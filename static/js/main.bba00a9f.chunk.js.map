{"version":3,"sources":["components/Payoff.js","store/actions/stockData.js","components/StockData.js","utility/constants.js","utility/Option.js","utility/options.js","utility/DS/ColorPicker.js","hooks/useUpdateEffect.js","components/Panel.js","context/liveData.js","components/Navigation/DropDownBtn.js","components/Navigation/Navigation.js","components/Search.js","App.js","store/reducers/stockData.js","index.js"],"names":["Payoff","data","errors","d3","remove","useEffect","myData","Ydomain","nv","newChart","lineChart","margin","left","useInteractiveGuideline","duration","showLegend","showYAxis","showXAxis","xAxis","axisLabel","tickFormat","d","yAxis","forceY","datum","call","windowResize","update","drawChart","className","id","updatePrice","price","type","StockData","liveMode","stockData","useSelector","state","dispatch","useDispatch","placeholder","value","currentPrice","disabled","onChange","e","stockActions","target","volatility","interest","BUY","SELL","CALL","PUT","CASH","date","moment","Date","now","format","initialPortfolio","initialPortfolioId","amount","contractName","direction","strike","longCondor","firstId","secondId","thirdId","fourthId","shortCondor","bullCallSpread","bearPutSpread","longStraddle","shortStraddle","longButterfly","shortButterfly","Option","this","cts","evaluatePayoffFunc","option","cost","Math","max","parseInt","min","BlackScholes","optionType","S","X","T","r","v","d1","log","sqrt","d2","CND","exp","x","k","PI","ColorPicker","colors","index","result","length","useUpdateEffect","effect","dependencies","isInitialMount","useRef","current","Contract","props","removeContract","optionData","updateContract","useState","expirationDates","setExpirationDates","selectedDate","setSelectedDate","strikePrices","setStrikePrices","selectedStrike","setSelectedStrike","selectedDirection","setSelectedDirection","selectedType","setSelectedType","dateDiff","diff","setPrice","util","toFixed","console","map","item","expirationDate","apiContract","find","toUpperCase","contract","options","ask","bid","strikesAtDate","cashContract","class","isNaN","style","verticalAlign","aria-label","onClick","aria-hidden","Panel","portfolio","setPortfolio","visualize","property","newPortfolio","toISOString","push","key","renderContracts","liveDataContext","React","createContext","setLiveMode","useStyles","makeStyles","theme","root","display","paper","marginRight","spacing","DropDownBtn","open","setOpen","anchorRef","handleClose","event","contains","handleListKeyDown","preventDefault","prevOpen","focus","Button","ref","aria-controls","undefined","aria-haspopup","color","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","MenuItem","flexGrow","menuButton","title","navbar","marginBottom","position","zIndex","MenuAppBar","classes","useContext","AppBar","Toolbar","IconButton","edge","Typography","variant","FormGroup","FormControlLabel","control","Switch","checked","prev","label","height","widht","Search","searchFunc","inputValue","setInputValue","Container","Row","Col","md","Autocomplete","symbols","getOptionLabel","displaySymbol","description","filterOptions","query","filter","o","includes","renderInput","params","TextField","noOptionsText","App","setData","setErrors","setOptionData","setErrs","useCallback","message","data-dismiss","removeErrs","updateData","Object","keys","strikes","maxStrike","minStrike","Infinity","values","theoretical","floor","sort","a","b","getColor","minProfit","maxProfit","profitSum","theoreticalPL","i","profitAtStrike","blackScholesValue","y","strategyData","strategyTheoretical","ticker","axios","get","process","REACT_APP_API_KEY","actions","lastTradePrice","Provider","changeData","initialState","rootReducer","combineReducers","action","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bba00a9f.chunk.js","sourcesContent":["import React from \"react\";\nimport { useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport * as nv from \"nvd3\";\n\nconst Payoff = ({ data, errors }) => {\n  // Clear the Charts\n  d3.selectAll(\"svg > *\").remove();\n\n  const drawChart = ({ data: myData, Ydomain }) => {\n    /*These lines are all chart setup.  Pick and choose which chart features you want to utilize. */\n    nv.addGraph(() => {\n      const newChart = nv.models\n        .lineChart()\n        .margin({ left: 100 }) //Adjust chart margins to give the x-axis some breathing room.\n        .useInteractiveGuideline(false) //We want nice looking tooltips and a guideline!\n        .duration(1500) //how fast do you want the lines to transition?\n        .showLegend(true) //Show the legend, allowing users to turn on/off line series.\n        .showYAxis(true) //Show the y-axis\n        .showXAxis(true); //Show the x-axis\n\n      newChart.xAxis //Chart x-axis settings\n        .axisLabel(\"Price ($)\")\n        .tickFormat((d) => d);\n\n      newChart.yAxis //Chart y-axis settings\n        .axisLabel(\"Profit ($)\")\n        .tickFormat((d) => d);\n\n      newChart.forceY(Ydomain);\n\n      d3.select(\"#chart svg\") //Select the <svg> element you want to render the chart in.\n        .datum(myData) //Populate the <svg> element with chart data...\n        .call(newChart); //Finally, render the chart!\n\n      // Update the chart when window resizes.\n      nv.utils.windowResize(newChart.update);\n\n      return newChart;\n    });\n  };\n\n  useEffect(() => {\n    data && drawChart(data);\n  }, [data]);\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <div className=\"panel panel-primary\">\n            <div className=\"panel-heading\">Option Payoff</div>\n            <div className=\"panel-body\">\n              {!errors ? (\n                <div id=\"chart\">\n                  <svg></svg>\n                </div>\n              ) : (\n                <h3>Enter Valid Data To View Chart</h3>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Payoff;\n","export const UPDATE_PRICE = \"UPDATE_PRICE\";\nexport const UPDATE_VOLATILITY = \"UPDATE_VOLATILITY\";\nexport const UPDATE_INTEREST = \"UPDATE_INTEREST\";\n\nexport const updatePrice = (price) => {\n  return {\n    type: UPDATE_PRICE,\n    price,\n  };\n};\n\nexport const updateVolatility = (volatility) => {\n  return {\n    type: UPDATE_VOLATILITY,\n    volatility,\n  };\n};\n\nexport const updateInterest = (interest) => {\n  return {\n    type: UPDATE_INTEREST,\n    interest,\n  };\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as stockActions from \"../store/actions/stockData\";\n\nconst StockData = ({ liveMode }) => {\n  const stockData = useSelector((state) => state.stockData);\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"panel panel-primary\">\n      <div className=\"panel-heading\">Underlying stock</div>\n      <div className=\"panel-body\">\n        <form className=\"form-horizontal\">\n          <div className=\"form-group\">\n            <label className=\"col-sm-5 control-label\">Current price ($)</label>\n            <div className=\"col-sm-7\">\n              <input\n                type=\"number\"\n                placeholder=\"CurrentPrice\"\n                className=\"form-control\"\n                value={stockData.currentPrice}\n                disabled={liveMode}\n                onChange={(e) =>\n                  dispatch(stockActions.updatePrice(e.target.value))\n                }\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"col-sm-5 control-label\">Volatility (%)</label>\n            <div className=\"col-sm-7\">\n              <input\n                type=\"number\"\n                placeholder=\"Volatility\"\n                className=\"form-control\"\n                value={stockData.volatility}\n                onChange={(e) =>\n                  dispatch(stockActions.updateVolatility(e.target.value))\n                }\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"col-sm-5 control-label\">Interest Rate (%)</label>\n            <div className=\"col-sm-7\">\n              <input\n                type=\"number\"\n                placeholder=\"Interest Rate\"\n                className=\"form-control\"\n                value={stockData.interest}\n                onChange={(e) =>\n                  dispatch(stockActions.updateInterest(e.target.value))\n                }\n              />\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default StockData;\n","import moment from \"moment\";\nexport const BUY = \"Buy\";\nexport const SELL = \"Sell\";\nexport const CALL = \"Call\";\nexport const PUT = \"Put\";\nexport const CASH = \"Cash\";\n\nexport const stockDataInitialState = {\n  currentPrice: \"100\",\n  volatility: \"30\",\n  interest: \"2\",\n};\n\nconst date = moment(new Date(Date.now() + 604800000)).format(\"YYYY-MM-DD\");\n\nexport const initialPortfolio = {\n  initialPortfolioId: {\n    amount: 1,\n    contractName: \"initialPortfolioId\",\n    date,\n    direction: BUY,\n    price: \"\", // To be calculated in the Contract Component\n    strike: 100,\n    type: CALL,\n  },\n};\n\nexport const longCondor = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: BUY,\n    price: \"\", // To be calculated in the Contract Component\n    strike: 80,\n    type: CALL,\n  },\n  secondId: {\n    amount: 1,\n    contractName: \"secondId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 90,\n    type: CALL,\n  },\n  thirdId: {\n    amount: 1,\n    contractName: \"thirdId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 110,\n    type: CALL,\n  },\n  fourthId: {\n    amount: 1,\n    contractName: \"fourthId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 120,\n    type: CALL,\n  },\n};\n\nexport const shortCondor = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: BUY,\n    price: \"\", // To be calculated in the Contract Component\n    strike: 110,\n    type: CALL,\n  },\n  secondId: {\n    amount: 1,\n    contractName: \"secondId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 120,\n    type: CALL,\n  },\n  thirdId: {\n    amount: 1,\n    contractName: \"thirdId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 90,\n    type: PUT,\n  },\n  fourthId: {\n    amount: 1,\n    contractName: \"fourthId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 80,\n    type: PUT,\n  }, \n}\n\nexport const bullCallSpread = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 100,\n    type: CALL,\n  },\n  secondId: {\n    amount: 1,\n    contractName: \"secondId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 110,\n    type: CALL,\n  },\n};\n\nexport const bearPutSpread = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 100,\n    type: PUT,\n  },\n  secondId: {\n    amount: 1,\n    contractName: \"secondId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 90,\n    type: PUT,\n  },\n};\n\nexport const longStraddle = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 100,\n    type: CALL,\n  },\n  secondId: {\n    amount: 1,\n    contractName: \"secondId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 100,\n    type: PUT,\n  },\n};\n\nexport const shortStraddle = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 100,\n    type: CALL,\n  },\n  secondId: {\n    amount: 1,\n    contractName: \"secondId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 100,\n    type: PUT,\n  },\n};\n\nexport const longStrangle = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 110,\n    type: CALL,\n  },\n  secondId: {\n    amount: 1,\n    contractName: \"secondId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 90,\n    type: PUT,\n  },\n};\n\nexport const shortStrangle = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 110,\n    type: CALL,\n  },\n  secondId: {\n    amount: 1,\n    contractName: \"secondId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 90,\n    type: PUT,\n  },\n};\n\nexport const longButterfly = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 90,\n    type: CALL,\n  },\n  secondId: {\n    amount: 2,\n    contractName: \"secondId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 100,\n    type: CALL,\n  },\n  thirdId: {\n    amount: 1,\n    contractName: \"thirdId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 110,\n    type: CALL,\n  },\n};\n\nexport const shortButterfly = {\n  firstId: {\n    amount: 1,\n    contractName: \"firstId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 100,\n    type: CALL,\n  },\n  secondId: {\n    amount: 1,\n    contractName: \"secondId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 110,\n    type: CALL,\n  },\n  thirdId: {\n    amount: 1,\n    contractName: \"thirdId\",\n    date,\n    direction: BUY,\n    price: \"\",\n    strike: 100,\n    type: PUT,\n  },\n  fourthId: {\n    amount: 1,\n    contractName: \"fourthId\",\n    date,\n    direction: SELL,\n    price: \"\",\n    strike: 90,\n    type: PUT\n  }\n};\n","import * as cts from \"./constants\";\n\n// Option definition class\nexport default class Option {\n  constructor(contractName) {\n    this.contractName = contractName;\n    this.strike = \"\";\n    this.date = \"\";\n    this.direction = cts.BUY;\n    this.type = cts.CALL;\n    this.amount = 1;\n  }\n}\n","import * as cts from \"./constants\";\n\n// Takes in option object and evaluates the payoff given the input price\nexport const evaluatePayoffFunc = (option, price, stockData) => {\n  const cost = option.price * option.amount;\n  if (option.type === cts.CALL) {\n    // A call Option\n    if (option.direction === cts.BUY) {\n      // Long Call\n      return (\n        Math.max(price - parseInt(option.strike), 0) * option.amount - cost\n      );\n    }\n    // Short Call\n    return Math.min(0, option.strike - price) * option.amount + cost;\n  } else if (option.type === cts.PUT) {\n    // A Put Option\n    if (option.direction === cts.BUY) {\n      // Long Put\n      return (\n        Math.max(parseInt(option.strike) - price, 0) * option.amount - cost\n      );\n    }\n    // Short Put\n    return Math.min(0, price - option.strike) * option.amount + cost;\n  } else if (option.type === cts.CASH) {\n    // Stock\n    if (option.direction === cts.BUY) {\n      // Long Stock\n      return (price - stockData.currentPrice) * option.amount;\n    }\n    // Short Stock\n    return (stockData.currentPrice - price) * option.amount;\n  }\n};\n\n/*\n  S = Current Stock Price\n  X = Exercise Price (Strike)\n  r = Short-term risk free interest rate\n  T = Time remaining to the expiration Date (in years)\n  v = Standard deviation of stock price (implied volatility)\n */\n\nexport function BlackScholes(optionType, S, X, T, r, v) {\n  // Unit adjustment\n  v = v / 100;\n  r = r / 100;\n  var d1 = (Math.log(S / X) + (r + (v * v) / 2) * T) / (v * Math.sqrt(T));\n  var d2 = d1 - v * Math.sqrt(T);\n  if (optionType === cts.CALL) {\n    return S * CND(d1) - X * Math.exp(-r * T) * CND(d2);\n  } else {\n    return X * Math.exp(-r * T) * CND(-d2) - S * CND(-d1);\n  }\n}\n\n/* The cummulative Normal distribution function: */\nfunction CND(x) {\n  if (x < 0) {\n    return 1 - CND(-x);\n  } else {\n    let k = 1 / (1 + 0.2316419 * x);\n    return (\n      1 -\n      (Math.exp((-x * x) / 2) / Math.sqrt(2 * Math.PI)) *\n        k *\n        (0.31938153 +\n          k *\n            (-0.356563782 +\n              k * (1.781477937 + k * (-1.821255978 + k * 1.330274429))))\n    );\n  }\n}\n","// Color Picker Structure to help select color on graph\nexport default class ColorPicker {\n    // Available colors, more can be added\n    colors = [\n        \"blue\",\n        \"red\",\n        \"yellow\",\n        \"purple\",\n        \"orange\",\n        \"black\",\n    ]\n\n    constructor() {\n        this.index = 0;\n    }\n\n    // Get the Next Color\n    getColor(){\n        const result =  this.colors[this.index];\n        // Adjust the index;\n        if(this.index >= this.colors.length){\n            // We have reached the end reset to zero\n            this.index = 0;\n        }else{\n            // Not at end just add one to index\n            this.index++;\n        }\n        return result;\n    }\n}","/**\n * A custom useEffect hook that only triggers on updates, not on initial mount\n * Idea stolen from: https://stackoverflow.com/a/55075818/1526448\n * @param {Function} effect\n * @param {Array<any>} dependencies\n */\n\nimport { useEffect, useRef } from \"react\";\n\nexport default function useUpdateEffect(effect, dependencies = []) {\n  const isInitialMount = useRef(true);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n  }, dependencies);\n}\n","import React, { useEffect, useState } from \"react\";\nimport Option from \"../utility/Option\";\nimport { BlackScholes } from \"../utility\";\nimport { useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport * as util from \"../utility\";\nimport useUpdateEffect from \"../hooks/useUpdateEffect\";\n\nconst Contract = (props) => {\n  const { removeContract, data, optionData } = props;\n  const { updateContract } = props;\n\n  /*\n   If optionData is defined then the strike prices must adjust to the\n   Expiration date\n   */\n  const [expirationDates, setExpirationDates] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(null);\n\n  const [strikePrices, setStrikePrices] = useState([\n    \"Please Select Expiration Date\",\n  ]);\n  const [selectedStrike, setSelectedStrike] = useState();\n  const [selectedDirection, setSelectedDirection] = useState(\"Buy\");\n  const [selectedType, setSelectedType] = useState(\"Call\");\n\n  // Stock data from redux\n  const stockData = useSelector((state) => state.stockData);\n\n  // Calculate dateDifference in years, used in theoretical black scholes\n  const dateDiff = -moment().diff(data.date, \"years\", true);\n\n  // Calculate the price based on Black-Scholes model\n  const [price, setPrice] = useState();\n\n  // Update the current price every time something changes\n  useEffect(() => {\n    if (optionData) {\n    } else if (!optionData && selectedType !== util.CASH) {\n      setPrice(\n        BlackScholes(\n          data.type,\n          +stockData.currentPrice,\n          +data.strike,\n          +dateDiff,\n          +stockData.interest,\n          +stockData.volatility\n        ).toFixed(2)\n      );\n\n      console.log(price);\n    }\n  });\n\n  // Update the price every time it changes\n  useUpdateEffect(() => {\n    updateContract(data.contractName, \"price\", price);\n  }, [price]);\n\n  // Set expiration Dates when component mounts\n  useEffect(() => {\n    if (optionData) {\n      const expirationDates = optionData.data.map(\n        (item) => item.expirationDate\n      );\n      setExpirationDates(expirationDates);\n    }\n  }, []);\n\n  // Update strike and price at change\n  useUpdateEffect(() => {\n    if (optionData) {\n      // Find the element with same date\n      const apiContract = optionData.data.find(\n        (item) => item.expirationDate === selectedDate\n      );\n\n      if (!apiContract) return;\n\n      // Find the type of option this is\n      const type = data.type.toUpperCase();\n\n      // Extract the contracts given the date\n      const contractsAtDate = apiContract.options[type];\n\n      // Find the contract with the selected Strike\n      const contract = contractsAtDate.find(\n        (item) => +item.strike === +selectedStrike\n      );\n\n      // Set the price depending if we are short or long\n      if (data.direction === \"Buy\") {\n        setPrice(contract.ask);\n      } else {\n        setPrice(contract.bid);\n      }\n    }\n\n    updateContract(data.contractName, \"strike\", selectedStrike);\n  }, [selectedStrike, setPrice]);\n\n  useUpdateEffect(() => {\n    if (optionData) {\n      // Find the element with same date\n      const apiContract = optionData.data.find(\n        (item) => item.expirationDate === selectedDate\n      );\n\n      // If none found return\n      if (!apiContract) return;\n\n      // Find the type of option this is\n      const type = data.type.toUpperCase();\n\n      // Extract the contracts given the date\n      const contractsAtDate = apiContract.options[type];\n\n      // Make an array of strikes at the current date\n      const strikesAtDate = contractsAtDate.map((item) => item.strike);\n\n      // Update strikeprices\n      setStrikePrices(strikesAtDate);\n    }\n\n    updateContract(data.contractName, \"date\", selectedDate);\n  }, [selectedDate]);\n\n  // Update Direction\n  useUpdateEffect(() => {\n    updateContract(data.contractName, \"direction\", selectedDirection);\n  }, [selectedDirection]);\n\n  // Update type\n  useUpdateEffect(() => {\n    updateContract(data.contractName, \"type\", selectedType);\n\n    // If we just changed to cash\n    if (selectedType === util.CASH) {\n      // Set Debit/Credit equal to the stock price\n      setPrice(stockData.currentPrice);\n    }\n  }, [selectedType]);\n\n  const cashContract = selectedType === util.CASH;\n\n  return (\n    <tr>\n      {/* Direction */}\n      <td>\n        <select\n          id=\"direction\"\n          className=\"form-control\"\n          value={selectedDirection}\n          onChange={(e) => setSelectedDirection(e.target.value)}\n        >\n          <option>Buy</option>\n          <option>Sell</option>\n        </select>\n      </td>\n      {/* Amount */}\n      <td>\n        <input\n          type=\"number\"\n          placeholder=\"Amount\"\n          className=\"form-control form-control-inline\"\n          onChange={(e) =>\n            updateContract(data.contractName, \"amount\", e.target.value)\n          }\n          value={data.amount}\n        />\n      </td>\n      {/* Kind */}\n      <td>\n        <select\n          className=\"form-control\"\n          onChange={(e) => setSelectedType(e.target.value)}\n          value={selectedType}\n        >\n          <option>Call</option>\n          <option>Put</option>\n          <option>Cash</option>\n        </select>\n      </td>\n      {/* Strike Price */}\n      <td>\n        {!cashContract &&\n          (optionData ? (\n            <div class=\"form-group\">\n              <select\n                class=\"form-control\"\n                id=\"exampleFormControlSelect1\"\n                onChange={(e) => setSelectedStrike(e.target.value)}\n              >\n                {strikePrices.map((price) => (\n                  <option>{isNaN(price) ? null : price}</option>\n                ))}\n              </select>\n            </div>\n          ) : (\n            <input\n              type=\"number\"\n              placeholder=\"Strike\"\n              className=\"form-control form-control-inline\"\n              onChange={(e) =>\n                updateContract(data.contractName, \"strike\", e.target.value)\n              }\n              value={data.strike}\n            />\n          ))}\n      </td>\n      {/* Expiry Date */}\n      <td>\n        {!cashContract &&\n          (!optionData ? (\n            <input\n              type=\"date\"\n              placeholder=\"Expiry\"\n              className=\"form-control form-control-inline\"\n              onChange={(e) =>\n                updateContract(data.contractName, \"date\", e.target.value)\n              }\n              value={data.date}\n            />\n          ) : (\n            <div class=\"form-group\">\n              <select\n                class=\"form-control\"\n                id=\"exampleFormControlSelect1\"\n                onChange={(e) => setSelectedDate(e.target.value)}\n              >\n                {expirationDates.map((date) => (\n                  <option>{date}</option>\n                ))}\n              </select>\n            </div>\n          ))}\n      </td>\n      {/* Contract Price */}\n      <td style={{ verticalAlign: \"middle\" }}>\n        <b>{price}</b>\n      </td>\n      {/* Remove Button */}\n      <td style={{ verticalAlign: \"middle\" }}>\n        <button\n          type=\"button\"\n          aria-label=\"Left Align\"\n          className=\"btn btn-danger btn-s\"\n          onClick={() => removeContract(data.contractName)}\n        >\n          <span aria-hidden=\"true\">Remove</span>\n        </button>\n      </td>\n    </tr>\n  );\n};\n\nconst Panel = (props) => {\n  const { portfolio, setPortfolio, visualize, optionData } = props;\n\n  const addContract = () => {\n    const newPortfolio = { ...portfolio };\n    const id = new Date().toISOString();\n    newPortfolio[id] = new Option(id);\n    setPortfolio(newPortfolio);\n  };\n\n  const renderContracts = () => {\n    const result = [];\n    for (let id in portfolio) {\n      result.push(\n        <Contract\n          optionData={optionData}\n          removeContract={removeContract}\n          updateContract={updateContract}\n          data={portfolio[id]}\n          key={id}\n        />\n      );\n    }\n    return result;\n  };\n\n  const updateContract = (id, property, value) => {\n    const newPortfolio = { ...portfolio };\n    newPortfolio[id][property] = value;\n    setPortfolio(newPortfolio);\n  };\n\n  const removeContract = (id) => {\n    const newPortfolio = { ...portfolio };\n    delete newPortfolio[id];\n    setPortfolio(newPortfolio);\n  };\n\n  console.log(\"Panel Rendered\");\n\n  return (\n    <div className=\"panel panel-primary\">\n      <div className=\"panel-heading\">Option Portfolio</div>\n      <div className=\"panel-body\">\n        <table className=\"table table-condensed\">\n          <thead>\n            <tr>\n              <th>Direction</th>\n              <th>Amount</th>\n              <th>Kind</th>\n              <th>Strike</th>\n              <th>Expiry</th>\n              <th>Debit/Credit</th>\n              <th>\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-success btn-s\"\n                  onClick={addContract}\n                >\n                  Add Leg\n                </button>\n              </th>\n            </tr>\n          </thead>\n          <tbody>{renderContracts()}</tbody>\n        </table>\n        <div className=\"pull-right\">\n          <button\n            type=\"submit\"\n            className=\"btn btn-success btn-s\"\n            onClick={visualize}\n          >\n            Generate Payoff\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Panel;\n","import React from \"react\";\n\nconst defaultValue = {\n  liveMode: false,\n  setLiveMode: () => {},\n};\n\nexport const liveDataContext = React.createContext(defaultValue);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport * as util from \"../../utility\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  paper: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst DropDownBtn = ({ setPortfolio }) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event, newPortfolio) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n    newPortfolio && setPortfolio(newPortfolio);\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === \"Tab\") {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  // return focus to the button when we transitioned from !open -> open\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  return (\n    <div>\n      <Button\n        ref={anchorRef}\n        aria-controls={open ? \"menu-list-grow\" : undefined}\n        aria-haspopup=\"true\"\n        onClick={handleToggle}\n        color=\"inherit\"\n      >\n        View Sample Strategies\n      </Button>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        role={undefined}\n        transition\n        disablePortal\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === \"bottom\" ? \"center top\" : \"center bottom\",\n            }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleClose}>\n                <MenuList\n                  autoFocusItem={open}\n                  id=\"menu-list-grow\"\n                  onKeyDown={handleListKeyDown}\n                >\n                  <MenuItem\n                    onClick={(e) => handleClose(e, util.bullCallSpread)}\n                  >\n                    Bull Call Spread\n                  </MenuItem>\n                  <MenuItem onClick={(e) => handleClose(e, util.bearPutSpread)}>\n                    Bear Put Spread\n                  </MenuItem>\n                  <MenuItem onClick={(e) => handleClose(e, util.longStraddle)}>\n                    Long Straddle\n                  </MenuItem>\n                  <MenuItem onClick={(e) => handleClose(e, util.shortStraddle)}>\n                    Short Straddle\n                  </MenuItem>\n                  <MenuItem onClick={(e) => handleClose(e, util.longButterfly)}>\n                    Long Butterfly\n                  </MenuItem>\n                  <MenuItem onClick={(e) => handleClose(e, util.shortButterfly)}>\n                    Short Butterfly\n                  </MenuItem>\n                  <MenuItem onClick={(e) => handleClose(e, util.longCondor)}>\n                    Long Condor\n                  </MenuItem>\n                  <MenuItem onClick={(e) => handleClose(e, util.shortCondor)}>\n                    Short Condor\n                  </MenuItem>\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </div>\n  );\n};\nexport default DropDownBtn;\n","import React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { liveDataContext } from \"../../context/liveData\";\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport DropDownBtn from \"./DropDownBtn\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  navbar: {\n    marginBottom: \"40px\",\n    position: \"relative\",\n    zIndex: \"10\",\n  },\n}));\n\nexport default function MenuAppBar({ setPortfolio }) {\n  const classes = useStyles();\n  const { liveMode, setLiveMode } = useContext(liveDataContext);\n\n  return (\n    <AppBar position=\"static\" className={classes.navbar}>\n      <Toolbar>\n        <IconButton\n          edge=\"start\"\n          className={classes.menuButton}\n          color=\"inherit\"\n          aria-label=\"menu\"\n        >\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"h3\" className={classes.title}>\n          Option Strategy Builder\n        </Typography>\n        <DropDownBtn setPortfolio={setPortfolio} />\n        <FormGroup>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={liveMode}\n                onChange={() => setLiveMode((prev) => !prev)}\n                aria-label=\"live mode switch\"\n              />\n            }\n            label={\"Live Data Mode\"}\n          />\n        </FormGroup>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport symbols from \"../symbols.json\";\nimport { Button } from \"@material-ui/core\";\nimport { Container, Col, Row } from \"react-bootstrap\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  item: {\n    // No Effect\n    height: \"100%\",\n    widht: \"100%\",\n  },\n});\n\nconst Search = ({ searchFunc }) => {\n  const [inputValue, setInputValue] = useState(\"\");\n  const classes = useStyles();\n\n  const filterOptions = (options, state) => {\n    // Extract the inputValue\n    const query = state.inputValue.toUpperCase();\n    // Update state\n    setInputValue(query);\n    // If short query return nothing (improves performance)\n    if (query.length <= 1) return [];\n\n    // Filter out the options\n    return options.filter((o) => o.displaySymbol.includes(query));\n  };\n\n  return (\n    <>\n      {/* A Warning message is outputed in console: Fix later */}\n      <Container>\n        <Row>\n          <Col md={10}>\n            <Autocomplete\n              id=\"combo-box-demo\"\n              options={symbols}\n              getOptionLabel={(option) =>\n                option.displaySymbol + \": \" + option.description\n              }\n              filterOptions={(options, state) => filterOptions(options, state)}\n              className={classes.item}\n              renderInput={(params) => (\n                <TextField\n                  {...params}\n                  label=\"Search Ticker\"\n                  variant=\"outlined\"\n                />\n              )}\n              noOptionsText={\n                inputValue.length <= 1\n                  ? \"Type a Ticker Symbol\"\n                  : \"No Symbols Found\"\n              }\n            />\n          </Col>\n          <Col md={2}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={() => searchFunc(inputValue)}\n              className={classes.item}\n            >\n              Submit\n            </Button>\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n};\n\nexport default Search;\n","import React, { useEffect, useState, useCallback, useRef } from \"react\";\nimport Payoff from \"./components/Payoff\";\nimport StockData from \"./components/StockData\";\nimport Panel from \"./components/Panel\";\nimport * as util from \"./utility\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Navigation from \"./components/Navigation/Navigation\";\nimport moment from \"moment\";\nimport { liveDataContext } from \"./context/liveData\";\nimport Search from \"./components/Search\";\nimport axios from \"axios\";\nimport ColorPicker from \"./utility/DS/ColorPicker\";\nimport * as actions from \"./store/actions/stockData\";\nimport { Row, Col, Container } from \"react-bootstrap\";\nimport useUpdateEffect from \"./hooks/useUpdateEffect\";\n\nconst App = () => {\n  const [portfolio, setPortfolio] = useState(util.initialPortfolio);\n  const [data, setData] = useState(null);\n  const [errors, setErrors] = useState(null);\n  const stockData = useSelector((state) => state.stockData);\n  const [liveMode, setLiveMode] = useState(false);\n  const [optionData, setOptionData] = useState();\n  const value = { liveMode, setLiveMode };\n  const dispatch = useDispatch();\n\n  // Set Error Message as JSX\n  const setErrs = useCallback((message) => {\n    setErrors(\n      <div className=\"alert alert-danger \" role=\"alert\">\n        <strong>{message}</strong>\n        <button\n          type=\"button\"\n          className=\"close\"\n          data-dismiss=\"alert\"\n          aria-label=\"Close\"\n          onClick={removeErrs}\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n    );\n  }, []);\n\n  // Update and Validate User Input Data\n  const updateData = useCallback(() => {\n    // Validate Empty Portfolio\n    if (Object.keys(portfolio).length === 0)\n      return setErrs(\"Add contracts to Visualize\");\n\n    // Validate Stock Price\n    if (+stockData.currentPrice <= 0)\n      return setErrs(\"Please Enter a Valid Stock Price\");\n\n    // Validate Interest\n    if (+stockData.interest <= 0)\n      return setErrs(\"Please Enter a Valid Interest Rate\");\n\n    const strikes = [];\n    let maxStrike = 0;\n    let minStrike = Infinity;\n\n    const values = [];\n    const theoretical = [];\n\n    // Get the strikes to plot\n    for (let id in portfolio) {\n      const contract = portfolio[id];\n      const cashContract = contract.type === util.CASH;\n      const strike = cashContract ? +stockData.currentPrice : +contract.strike;\n      const date = contract.date;\n      const amount = contract.amount;\n\n      // Always Validate Amount\n      if (amount <= 0) return setErrs(\"Please Enter a Valid Amount\");\n\n      // If not a Cash Contract the validate the following fields\n      if (!cashContract) {\n        // Validate Strike prices\n        if (strike <= 0) return setErrs(\"Please Enter A Valid Strike Price\");\n\n        // Validate the Date (Check if it is defined and in the future)\n        if (!date || moment().diff(date) > 0)\n          return setErrs(\"Please Enter a Valid Date\");\n      }\n\n      // Apply To Fixed\n      strikes.push(strike.toFixed(2));\n\n      // Update the maxStrike\n      if (strike > maxStrike) maxStrike = strike;\n      if (strike < minStrike) minStrike = strike;\n    }\n\n    // Add domain limits\n    strikes.push(Math.floor(maxStrike * 1.2));\n    strikes.push(Math.floor(minStrike * 0.8));\n\n    // Sort the strikes so the graph can be displayed properly\n    strikes.sort((a, b) => a - b);\n\n    const result = [];\n\n    // Helper DS to fetch colors\n    const colors = new ColorPicker();\n\n    // We want our plot to have N lines (N is the number of contracts in portfolio)\n    for (let id in portfolio) {\n      const contract = portfolio[id];\n      let key =\n        contract.direction + \" \" + contract.type + \" \" + contract.strike;\n      // Adjust title if cash contract\n      if (contract.type === util.CASH) {\n        key =\n          contract.direction +\n          \" \" +\n          contract.type +\n          \"  \" +\n          stockData.currentPrice;\n      }\n\n      result.push({\n        values: [],\n        key,\n        color: colors.getColor(),\n      });\n    }\n\n    // Keey track of min/max for Ydomain\n    let minProfit = Infinity;\n    let maxProfit = -Infinity;\n\n    // For each strike, calculate the payoff and add it to values\n    for (let strike of strikes) {\n      let profitSum = 0;\n      let theoreticalPL = 0;\n      // Keep track of the index we are at\n      let i = 0;\n      for (let id in portfolio) {\n        const contract = portfolio[id];\n\n        // Calculate profit at given Strike (at Expiration)\n        const profitAtStrike = +util\n          .evaluatePayoffFunc(contract, strike, stockData)\n          .toFixed(2);\n\n        // Calculate dateDifference in years, used in theoretical black scholes\n        const dateDiff = -moment().diff(contract.date, \"years\", true);\n\n        const blackScholesValue = util.BlackScholes(\n          contract.type,\n          +strike,\n          +contract.strike,\n          +dateDiff,\n          +stockData.interest,\n          +stockData.volatility\n        );\n\n        // If the contract is Cash\n        if (contract.type === util.CASH) {\n          // Just add the profit at Strike\n          theoreticalPL += profitAtStrike;\n        } else {\n          // Calculate depending on Buy/Sell\n          if (contract.direction === util.BUY) {\n            // Calculate Theoretical P/L\n            theoreticalPL +=\n              (blackScholesValue - contract.price) * contract.amount;\n          } else {\n            theoreticalPL +=\n              (contract.price - blackScholesValue) * contract.amount;\n          }\n        }\n\n        // Update min and max Profits\n        if (profitAtStrike > maxProfit) maxProfit = profitAtStrike;\n\n        if (profitAtStrike < minProfit) minProfit = profitAtStrike;\n\n        // Push the point at the specified strategy\n        result[i].values.push({\n          x: strike,\n          y: profitAtStrike,\n        });\n\n        // Evaluate each contract in portfolio and add it to the y value\n        profitSum += profitAtStrike;\n        i++;\n      }\n\n      // Add the point to the data\n      values.push({ x: strike, y: profitSum });\n      theoretical.push({ x: strike, y: theoreticalPL.toFixed(2) });\n    }\n\n    const Ydomain = [Math.floor(minProfit * 1.2), Math.floor(maxProfit * 1.2)];\n\n    // The overall strategy plot data\n    const strategyData = {\n      values,\n      key: \"Strategy\",\n      color: \"green\",\n    };\n\n    // The Theoretical strategy plot data\n    const strategyTheoretical = {\n      values: theoretical,\n      key: \"Today\",\n      color: \"pink\",\n    };\n\n    result.push(strategyTheoretical);\n\n    // Add the overall strategy data to the end if there are two or more contracts\n    if (result.length > 2) {\n      result.push(strategyData);\n    }\n\n    console.log(result, Ydomain);\n\n    setData({ data: result, Ydomain });\n  }, [portfolio, stockData, setErrs]);\n\n  // Custom hook used to Reset Portfolio only when liveMode is Toggled\n  useUpdateEffect(() => {\n    // To be run on update\n    setErrors(null);\n    setPortfolio({});\n    setData(null);\n    setOptionData(null);\n  }, [liveMode]);\n\n  // Custom hook used to Reset Porfolio only when optionData changes\n  useUpdateEffect(() => {\n    setPortfolio({});\n  }, [optionData]);\n\n  // Update/Validate portfolio whenever changed\n  useUpdateEffect(() => {\n    setErrors(null);\n    updateData();\n  }, [portfolio, updateData]);\n\n  // Remove Errors Helper Function\n  const removeErrs = () => {\n    setErrors(null);\n  };\n\n  // Fetch the option Data when Search is Clicked\n  const searchFunc = async (ticker) => {\n    const { data } = await axios.get(\n      `https://finnhub.io/api/v1/stock/option-chain?symbol=${ticker}&token=` +\n        process.env.REACT_APP_API_KEY\n    );\n    setOptionData(data);\n    dispatch(actions.updatePrice(data.lastTradePrice));\n  };\n\n  console.log(portfolio);\n\n  return (\n    <liveDataContext.Provider value={value}>\n      <Navigation setPortfolio={setPortfolio} />\n      <Container>\n        <Row>\n          <Col md={12}>{liveMode && <Search searchFunc={searchFunc} />}</Col>\n        </Row>\n        <Row>\n          <Col md={12}>\n            <Panel\n              optionData={optionData}\n              portfolio={portfolio}\n              setPortfolio={setPortfolio}\n              visualize={updateData}\n              currentPrice={100}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col md={3}>\n            <StockData liveMode={liveMode} />\n          </Col>\n          <Col md={9}>\n            {errors ? errors : null}\n            <Payoff data={data} changeData={setData} errors={errors} />\n          </Col>\n        </Row>\n      </Container>\n    </liveDataContext.Provider>\n  );\n};\n\nexport default App;\n","import {\n  UPDATE_PRICE,\n  UPDATE_INTEREST,\n  UPDATE_VOLATILITY,\n} from \"../actions/stockData\";\nimport { stockDataInitialState } from \"../../utility/constants\";\n\nexport const initialState = { ...stockDataInitialState };\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case UPDATE_PRICE:\n      return { ...state, currentPrice: action.price };\n    case UPDATE_VOLATILITY:\n      return { ...state, volatility: action.volatility };\n    case UPDATE_INTEREST:\n      return { ...state, interest: action.interest };\n    default:\n      // Will be run initially\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport stockDataReducer from \"./store/reducers/stockData\";\nimport { createStore, combineReducers } from \"redux\";\n\nconst rootReducer = combineReducers({\n  stockData: stockDataReducer,\n});\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}