(this["webpackJsonpoptions-visualizer"]=this["webpackJsonpoptions-visualizer"]||[]).push([[0],{46:function(e,t,a){e.exports=a(79)},52:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),o=a(23),i=a.n(o),u=a(38),s=a(14),m=a(15),d=a(20),f=function(e){var t=e.data,a=e.errors;m.selectAll("svg > *").remove();return console.log(t),Object(n.useEffect)((function(){t&&function(e){var t=e.data,a=e.Ydomain;d.addGraph((function(){var e=d.models.lineChart().margin({left:100}).useInteractiveGuideline(!1).duration(1500).showLegend(!0).showYAxis(!0).showXAxis(!0);return e.xAxis.axisLabel("Price ($)").tickFormat((function(e){return e})),e.yAxis.axisLabel("Profit ($)").tickFormat((function(e){return e})),e.forceY(a),m.select("#chart svg").datum(t).call(e),d.utils.windowResize(e.update),e}))}(t)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"panel panel-primary"},r.a.createElement("div",{className:"panel-heading"},"Option Payoff"),r.a.createElement("div",{className:"panel-body"},a?r.a.createElement("h1",null,"Enter Valid Data To View Chart"):r.a.createElement("div",{id:"chart"},r.a.createElement("svg",null)))))))},p=(a(52),a(7)),v=function(e){var t=Object(p.c)((function(e){return e.stockData})),a=Object(p.b)();return console.log(t),r.a.createElement("div",{className:"panel panel-primary"},r.a.createElement("div",{className:"panel-heading"},"Underlying stock"),r.a.createElement("div",{className:"panel-body"},r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-5 control-label"},"Current price ($)"),r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("input",{type:"number",placeholder:"CurrentPrice",className:"form-control",value:t.currentPrice,onChange:function(e){return a({type:"UPDATE_PRICE",price:e.target.value})}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-5 control-label"},"Volatility (%)"),r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("input",{type:"number",placeholder:"Volatility",className:"form-control",value:t.volatility,onChange:function(e){return a({type:"UPDATE_VOLATILITY",volatility:e.target.value})}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-5 control-label"},"Interest Rate (%)"),r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("input",{type:"number",placeholder:"Interest Rate",className:"form-control",value:t.interest,onChange:function(e){return a({type:"UPDATE_INTEREST",interest:e.target.value})}}))))))},E=a(6),h=a(40),b=function e(t){Object(h.a)(this,e),this.contractName=t,this.strike="",this.date="",this.direction="Buy",this.type="Call",this.amount=1},y=(a(26),function(e,t){var a=e.price*e.amount;return"Call"===e.type?"Buy"===e.direction?Math.max(t-parseInt(e.strike),0)*e.amount-a:Math.min(0,e.strike-t)*e.amount+a:"Put"===e.type?"Buy"===e.direction?Math.max(parseInt(e.strike)-t,0)*e.amount-a:Math.min(0,t-e.strike)*e.amount+a:"Cash"===e.type?"Buy"===e.direction?(t-e.strike)*e.amount:(e.strike-t)*e.amount:void 0});function g(e){if(e<0)return 1-g(-e);var t=1/(1+.2316419*e);return 1-Math.exp(-e*e/2)/Math.sqrt(2*Math.PI)*t*(.31938153+t*(t*(1.781477937+t*(1.330274429*t-1.821255978))-.356563782))}var N=a(16),k=a.n(N),P=function(e){var t=e.removeContract,a=e.data,l=e.updateContract,c=e.currentPrice,o=Object(p.c)((function(e){return e.stockData})),i=-k()().diff(a.date,"years",!0),u=function(e,t,a,n,r,l){var c=(Math.log(t/a)+(r+l*l/2)*n)/(l*Math.sqrt(n)),o=c-l*Math.sqrt(n);return"Call"===e?t*g(c)-a*Math.exp(-r*n)*g(o):a*Math.exp(-r*n)*g(-o)-t*g(-c)}(a.type,+o.currentPrice,+a.strike,i,+o.interest,+o.volatility).toFixed(2);return Object(n.useEffect)((function(){l(a.contractName,"price",u)}),[u]),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{id:"direction",className:"form-control",onChange:function(e){return l(a.contractName,"direction",e.target.value)}},r.a.createElement("option",null,"Buy"),r.a.createElement("option",null,"Sell"))),r.a.createElement("td",null,r.a.createElement("input",{type:"number",placeholder:"Amount",className:"form-control form-control-inline",onChange:function(e){return l(a.contractName,"amount",e.target.value)},value:a.amount})),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",onChange:function(e){return l(a.contractName,"type",e.target.value)}},r.a.createElement("option",null,"Call"),r.a.createElement("option",null,"Put"),r.a.createElement("option",null,"Cash"))),r.a.createElement("td",null,r.a.createElement("input",{type:"number",placeholder:"Strike",className:"form-control form-control-inline",onChange:function(e){return l(a.contractName,"strike",e.target.value)},value:a.strike})),r.a.createElement("td",null,r.a.createElement("input",{type:"date",placeholder:"Expiry",className:"form-control form-control-inline",onChange:function(e){return l(a.contractName,"date",e.target.value)},value:a.date})),r.a.createElement("td",{style:{verticalAlign:"middle"}},console.log(a.type,+c,+a.strike),r.a.createElement("b",null,u)),r.a.createElement("td",{style:{verticalAlign:"middle"}},r.a.createElement("b",null,"1.00")),r.a.createElement("td",{style:{verticalAlign:"middle"}},r.a.createElement("button",{type:"button","aria-label":"Left Align",className:"btn btn-danger btn-s",onClick:function(){return t(a.contractName)}},r.a.createElement("span",{"aria-hidden":"true"},"Remove"))))},O=function(e){var t=e.portfolio,a=e.setPortfolio,n=e.visualize,l=e.currentPrice,c=function(e,n,r){var l=Object(E.a)({},t);l[e][n]=r,a(l)},o=function(e){var n=Object(E.a)({},t);delete n[e],a(n)};return r.a.createElement("div",{className:"panel panel-primary"},r.a.createElement("div",{className:"panel-heading"},"Panel"),r.a.createElement("div",{className:"panel-body"},r.a.createElement("table",{className:"table table-condensed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Direction"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Kind"),r.a.createElement("th",null,"Strike"),r.a.createElement("th",null,"Expiry"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,r.a.createElement("button",{type:"submit",className:"btn btn-success btn-xs",onClick:function(){var e=Object(E.a)({},t),n=(new Date).toISOString();e[n]=new b(n),a(e)}},"Add Leg")))),r.a.createElement("tbody",null,function(){var e=[];for(var a in t)e.push(r.a.createElement(P,{removeContract:o,updateContract:c,currentPrice:l,data:t[a],key:a}));return e}())),r.a.createElement("div",{className:"pull-right"},r.a.createElement("button",{type:"submit",className:"btn btn-success btn-xs",onClick:n},"Generate Payoff"))))},j=(a(82),a(83),{currentPrice:"1300",volatility:"0.2",interest:"0.05"}),C={"2020-08-12T19:58:01.033Z":{amount:1,contractName:"2020-08-12T19:58:01.033Z",date:"2020-08-12",direction:"Buy",price:"196.26",strike:"1200",type:"Call"}},x=function(){var e=Object(n.useState)(C),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),m=o[0],d=o[1],E=Object(n.useState)(null),h=Object(s.a)(E,2),b=h[0],g=h[1],N=Object(n.useState)([{value:"Select a Ticker Symbol"}]),P=Object(s.a)(N,2),j=(P[0],P[1],Object(p.c)((function(e){return e.stockData}))),x=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){if(0===Object.keys(a).length)return w("Add contracts to Visualize");if(+j.currentPrice<=0)return w("Please Enter a Valid Stock Price");if(+j.interest<=0)return w("Please Enter a Valid Interest Rate");var e=[],t=0,n=1/0,r=[];for(var l in a){var c=a[l],o=+c.strike,i=c.date,u=c.amount;if(o<=0)return w("Please Enter A Valid Strike Price");if(u<=0)return w("Please Enter a Valid Amount");if(!i||k()().diff(i)>0)return w("Please Enter a Valid Date");e.push(o.toFixed(2)),o>t&&(t=o),o<n&&(n=o)}e.push(Math.floor(1.2*t)),e.push(Math.floor(.8*n)),e.sort((function(e,t){return e-t}));var s=[];for(var m in a){var f=a[m],p=f.direction+" "+f.type+" "+f.strike;s.push({values:[],key:p,color:"blue"})}for(var v=1/0,E=-1/0,h=0,b=e;h<b.length;h++){var g=b[h],N=0,P=0;for(var O in a){var C=a[O],x=+y(C,g).toFixed(2);x>E&&(E=x),x<v&&(v=x),s[P].values.push({x:g,y:x}),N+=x,P++}r.push({x:g,y:N})}var A=[Math.floor(1.2*v),Math.floor(1.2*E)],T={values:r,key:"Strategy",color:"green"};s.length>=2&&s.push(T),d({data:s,Ydomain:A})};Object(n.useEffect)((function(){g(null),A()}),[a]),Object(n.useEffect)((function(){x()}),[]);var w=function(e){g(r.a.createElement("div",{class:"alert alert-danger",role:"alert"},e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(v,null),r.a.createElement(O,{portfolio:a,setPortfolio:l,visualize:A,currentPrice:100}),b,r.a.createElement(f,{data:m,changeData:d,errors:b})))},A=a(12);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=Object(A.b)({stockData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PRICE":return Object(E.a)(Object(E.a)({},e),{},{currentPrice:t.price});case"UPDATE_VOLATILITY":return Object(E.a)(Object(E.a)({},e),{},{volatility:t.volatility});case"UPDATE_INTEREST":return Object(E.a)(Object(E.a)({},e),{},{interest:t.interest})}return e}}),T=Object(A.c)(w);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:T},r.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.444bc853.chunk.js.map